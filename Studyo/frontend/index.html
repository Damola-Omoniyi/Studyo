<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Studyo</title>
</head>
<body>

</body>
<script>
    async function fetchTasks() {
  const username = localStorage.getItem('username');
  if (!username) {
    alert("No username found in localStorage.");
     window.location.href = 'login.html';
    return;}

  const taskData = { username: username };

  try {
    const response = await fetch("http://127.0.0.1:8000/api/dashboard/", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      credentials: 'include',
      body: JSON.stringify(taskData),
    });

    if (!response.ok) {
      throw new Error(`Server error: ${response.status}`);
    }

    const data = await response.json();
    console.log(data);
    // TODO: Use the data to update your dashboard UI here

  } catch (err) {
    alert("Failed to fetch tasks: " + err.message);
  }
}

window.addEventListener('DOMContentLoaded', fetchTasks);

</script>
</html>